\newcommand{\proquestmode}{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\
%%%% Tweak float placements
% From: http://mintaka.sdsu.edu/GF/bibliog/latex/floats.html "Controlling LaTeX Floats"
% and based on: http://www.tex.ac.uk/cgi-bin/texfaq2html?label=floats
% LaTeX defaults listed at: http://people.cs.uu.nl/piet/floats/node1.html

% Alter some LaTeX defaults for better treatment of figures:
    % See p.105 of "TeX Unbound" for suggested values.
    % See pp. 199-200 of Lamport's "LaTeX" book for details.
    %   General parameters, for ALL pages:
    \renewcommand{\topfraction}{0.85}   % max fraction of floats at top
    \renewcommand{\bottomfraction}{0.6} % max fraction of floats at bottom
    %   Parameters for TEXT pages (not float pages):
    \setcounter{topnumber}{2}
    \setcounter{bottomnumber}{2}
    \setcounter{totalnumber}{4}     % 2 may work better
    \setcounter{dbltopnumber}{2}    % for 2-column pages
    \renewcommand{\dbltopfraction}{0.66}    % fit big float above 2-col. text
    \renewcommand{\textfraction}{0.15}  % allow minimal text w. figs
    %   Parameters for FLOAT pages (not text pages):
    \renewcommand{\floatpagefraction}{0.66} % require fuller float pages
    % N.B.: floatpagefraction MUST be less than topfraction !!
    \renewcommand{\dblfloatpagefraction}{0.66}  % require fuller float pages


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\
%%%% Use packages

% Fonts
\usepackage[mono=false]{libertine}
\usepackage[scaled=0.85]{beramono}%% or 0.82
\usepackage[protrusion=true,expansion=true]{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
\usepackage{amssymb,amsfonts,amsthm} % Math packages
\usepackage[libertine]{newtxmath}
\usepackage[separate-uncertainty=false,multi-part-units=single]{siunitx}
\usepackage{gensymb}
\usepackage{mathtools}
\usepackage{cancel}
\usepackage[table]{xcolor}
\usepackage[font=small,skip=0pt,labelfont=bf,textfont=it,up]{caption}


%%% For figures
\usepackage[pdftex]{graphicx}
\usepackage{epstopdf}
\epstopdfDeclareGraphicsRule{.gif}{png}{.png}{convert gif:#1 png:\OutputFile}
\AppendGraphicsExtensions{.gif}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}

% for subfigure
\usepackage[margin=8pt]{subcaption}
\captionsetup{labelfont=bf}

%%% for comments
\usepackage{verbatim}

% nice references
\usepackage[
backend=biber,
style=numeric,
sorting=none,
maxcitenames=2
]{biblatex}
\addbibresource{refs.bib}

% nice description style
\usepackage{enumitem}
\setlist[description]{style=nextline,
                      leftmargin=1.5em,
                      labelindent=1em,
                      topsep=1em,
                      itemsep=0em}

% for code listings
\usepackage{listings}
\usepackage{color}
\definecolor{codebg}{RGB}{248,248,248} % mimics html code style
\definecolor{codeborder}{RGB}{204,204,204}
\lstset{breaklines=true,
        breakatwhitespace=false,
        basicstyle=\singlespacing\small\ttfamily,
        columns=flexible,
        frame=single,
        rulecolor=\color{codeborder},
        backgroundcolor=\color{codebg}
}

%%% For tables
\usepackage{multirow}
% Longtable lets you have tables that span multiple pages.
\usepackage{longtable}

% Booktabs produces far nicer tables than the standard LaTeX tables.
%   see: http://en.wikibooks.org/wiki/LaTeX/Tables
\usepackage{booktabs}

% adds more formatting options to tables
\usepackage{array}

%set parameters for longtable:
% default caption width is 4in for longtable, but wider for normal tables
\setlength{\LTcapwidth}{\textwidth}

% pgfplotstable
\usepackage{pgfplotstable}
\pgfplotsset{compat=1.12}

% Hyperlinks
\usepackage[unicode=true]{hyperref}
\hypersetup{colorlinks,
            linkcolor={red!50!black},
            citecolor={blue!50!black},
            urlcolor={blue!80!black},
            bookmarksnumbered
}

% copy the already-set title and author to use in the pdf properties
\makeatletter
\hypersetup{pdftitle=\@title,pdfauthor=\@author}
\makeatother

% make the page number rather than the text be the link for ToC entries
%\hypersetup{linktocpage}

% Clever references
\usepackage{cleveref}

% Set spacing
\usepackage{setspace}

% Subject fields

\usepackage{physics}
\usepackage{myphysics}
\usepackage{mychem}
\usepackage{chemfig}
\usepackage[version=4]{mhchem}

# Header and footer
\@ifpackageloaded{fancyhdr}{
  \pagestyle{fancy}
  \fancyfoot{}
  \fancyfoot[R]{}
  \fancyfoot[C]{\thepage}
  \fancyfoot[L]{Andrew Tolmie}
  \renewcommand{\footrulewidth}{0.4pt}
}{}


